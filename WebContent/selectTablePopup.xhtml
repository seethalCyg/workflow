<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:o="http://openfaces.org/">

<h:head>
	<h:outputStylesheet library="css" name="table-style.css" />
	<h:outputStylesheet library="css" name="style.css" />
	<h:outputStylesheet library="css" name="js_color_picker_v2.css" />
	<h:outputScript name="js_color_picker_v2.js" library="js" />
	<h:outputScript name="color_functions.js" library="js" />
	<h:outputScript name="jsf.js" library="javax.faces" />
	<h:outputScript name="format.js" library="js" />
	
	<!-- Start code change Jayaramu 14NOV13 -->



</h:head>



<h:body>

<h:inputHidden value="#{sessionExpireBean.checkSessionexpire}"/>
	<o:popupLayer id="selectTablePopup"
		draggable="true" modalLayerClass="modalLayer"
		style="left: 1px; top: 0px; border: 2px solid orange; height:350px; width:630px;" left="200" top="200">
		<fieldset style="width: 600px; height:300px;">
		<table><tr><td><fieldset style="width: 560px; height:270px;">
		<legend class="label2">Choose Table</legend>
	<table><tr><td><fieldset style="height:200px;width:280px"><legend class="label2">Choose Connection and Table</legend>	<table><tr><td><h:panelGroup id="connection"><table><tr><td><h:outputText id="cho" style="font-size:11px" value="Choose Connection :"></h:outputText></td>
		<td><h:selectOneMenu id="selConn" value="#{hierarchyDBBean.selectedConnection}" style="width:150px">
       			 <f:selectItem itemValue="#{null}" itemLabel="-- select Value --"/>
        		<f:selectItems value="#{hierarchyDBBean.selectedConnectionTM}"/>
        		<a4j:ajax render="dim1" listener="#{hierarchyDBBean.gettingTableName('selectTable')}"></a4j:ajax>
    			</h:selectOneMenu>
		</td></tr></table></h:panelGroup></td></tr><tr><td><table align="left"><tr><td align="left">
		<h:selectOneMenu id="tablefilter1" value="#{hierarchyDBBean.selectedOperator}" style="width:100px">
       			<f:selectItems value="#{hierarchyDBBean.operator}"/>
        		
    			</h:selectOneMenu>  </td><td><h:inputText id="filtervals1" value="#{hierarchyDBBean.filterValue}" size="12"/>  </td></tr></table></td></tr>
    			<tr><td><h:selectBooleanCheckbox id="matchCase" value="#{hierarchyDBBean.matchCase4TableSelect}"></h:selectBooleanCheckbox><h:outputText value="Match Case"></h:outputText> &nbsp;
    			<h:commandButton title="Filter" id="srcFilter1" value="Filter" image="/resources/images/filter.png" actionListener="#{hierarchyDBBean.filterFacts('selectedMeasureFilter')}" style="width:15px">
    			<a4j:ajax execute="filtervals1 dim1 tablefilter1 matchCase" render="tablefilter1 dim1 matchCase"/> </h:commandButton> &nbsp;</td></tr>
		<tr><td><table><tr><td><h:selectOneListbox id="dim1" value="#{hierarchyDBBean.selectTableName}" size="5" style="width:195px" required="false">
			<f:selectItems value="#{hierarchyDBBean.tableNameTM1}"/>
			
		</h:selectOneListbox></td></tr></table></td></tr><tr><td valign="top" align="left"><h:commandButton id="okbtn1" value="OK" style="width: 22px; " image="/resources/images/ok1.png" action="#{hierarchyDBBean.setselectedJoinTables(hierarchyDBBean.selectedType)}">
		<f:ajax execute="dim1 selConn configWH" render="dim1 selConn configWH tablemsg"></f:ajax></h:commandButton>&nbsp;
		&nbsp;<h:outputText id="tablemsg" style="color:blue" value="#{hierarchyDBBean.tableMessage}"/></td></tr>
		</table></fieldset></td><td style="display: #{hierarchyDBBean.fromFactPopup}">
		<fieldset style="height:200px">
<legend class="label2">Existing Table(s)</legend>
		<table><tr></tr><tr><td><table align="left"><tr><td align="left">
		  </td><td>  </td></tr></table></td></tr>
		<tr><td>
		<h:selectOneMenu id="tablefilter01" value="#{hierarchyDBBean.selectedOperator}" style="width:100px">
       			<f:selectItems value="#{hierarchyDBBean.operator}"/>
        		
    			</h:selectOneMenu>  <h:inputText id="filtervals01" value="#{hierarchyDBBean.filterValue}" size="12"/> </td><td> </td></tr>
    			
    			<tr><td><h:selectBooleanCheckbox id="matchCase01" value="#{hierarchyDBBean.matchCase4ExistingTableSelect}"></h:selectBooleanCheckbox><h:outputText value="Match Case"></h:outputText> &nbsp;
    			<h:commandButton title="Filter" id="srcFilter01" value="Filter" image="/resources/images/filter.png" actionListener="#{hierarchyDBBean.filterFacts('FromExistingTable')}" style="width:15px">
    			<a4j:ajax execute="tablefilter01 filtervals01 matchCase01" render="tableNames"/> </h:commandButton> &nbsp;</td></tr>
    			
    			
		
		<tr><td><table><tr><td><h:selectOneListbox id="tableNames" value="#{hierarchyDBBean.factTableNames}" size="5" style="width:195px" required="false">
			<f:selectItems value="#{hierarchyDBBean.tableNamesFromFactPopUp}"/>
			
		</h:selectOneListbox></td></tr></table></td></tr><tr><td valign="top" align="left"><h:commandButton id="okbtn01" value="OK" style="width: 22px; " image="/resources/images/ok1.png" action="#{hierarchyDBBean.setselectedJoinTables(hierarchyDBBean.selectedType4ExistingTable)}">
		
		<f:ajax execute="tableNames configWH" render="tableNames configWH tablemsg1"></f:ajax></h:commandButton>&nbsp;
		&nbsp;<h:outputText id="tablemsg1" style="color:blue" value="#{hierarchyDBBean.existingTableMessage}"/></td></tr>
		</table></fieldset></td></tr><tr><td><h:commandButton id="cancelbtn1" title="Close" image="/resources/images/close.png" value="Cancel" style="width: 23px; " onclick="O$('#{hierarchyBean.formID}:selectTablePopup').hide();" action="#{hierarchyDBBean.closeTable}">
		<f:ajax execute="selectTablePopup @this"/></h:commandButton></td></tr></table></fieldset></td></tr></table><br /></fieldset>
	</o:popupLayer>
</h:body>
</html>
