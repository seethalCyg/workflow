<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:o="http://openfaces.org/"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<h:outputStylesheet library="css" name="table-style.css" />
	<h:outputStylesheet library="css" name="style.css" />
	<h:outputStylesheet library="css" name="js_color_picker_v2.css" />
	<h:outputScript name="js_color_picker_v2.js" library="js" />
	<h:outputScript name="color_functions.js" library="js" />
	<h:outputScript name="jsf.js" library="javax.faces" />
	<h:outputScript name="format.js" library="js" />
	
	<!-- Start code change Jayaramu 14NOV13 -->



</h:head>



<h:body>
<h:inputHidden id="data2" value="#{memberStatusBean.dbData}"></h:inputHidden>
<h:inputHidden value="#{sessionExpireBean.checkSessionexpire}"/>

	<o:popupLayer id="statusPopup"
		draggable="true" modalLayerClass="modalLayer"
		style="left: 1px; top: 0px; border: 2px solid #b67864;  " left="100" top="200">


<p></p>
<div class="row">
<table style="width: 600px;">
<tr><td align="left"><h4 style="margin-bottom: 2px;">Choose Action</h4></td>  <td align="right"><h:commandButton title="Save" image="/BootstrapResource/dist/hierarchy/Workflw_Save.png" action="#{memberStatusBean.updatingStatusinXMl(hierarchyBean.document_ID,hierarchyBean.documentNameWF)}" ><a4j:ajax execute=":HRYTree:data1 :HRYTree:reason :HRYTree:attrValuePanelGroup" render=":HRYTree:data1 :HRYTree:reason :HRYTree:msg1 :HRYTree:wrkFlowStg :HRYTree:allStag :HRYTree:reConfig :HRYTree:Gendata :HRYTree:Processgroup :HRYTree:attachmentTable"></a4j:ajax>
    	</h:commandButton><h:commandButton title="Close" onclick="O$('HRYTree:statusPopup').hide();" image="/BootstrapResource/dist/hierarchy/wrkflw_close.png"  >
    	<a4j:ajax render="@this" execute="@this"></a4j:ajax>
    	</h:commandButton></td></tr>


<tr>
<td>
<p  style="font-size: 12px;margin-left: 3px;color: #1F6AAF;">Choose an action and click the Save [<h:commandButton disabled="true" image="/BootstrapResource/dist/hierarchy/Workflw_Save.png" alt="" style="margin-bottom: -6px; width: 25px;"/>] button. And, this document will be forwarded to the appropriate stage.</p>

</td>

</tr>


    

</table>

</div>




		<table>
		
		<tr><td><table><tr><td><h:outputText value="Choose an action:"></h:outputText></td>
		<td><h:selectOneMenu id="data1" value="#{memberStatusBean.selectedStatus}" style="background:#fff;height:25px;">
        		<f:selectItems value="#{memberStatusBean.statusHM}" />
        		
        		<f:ajax event="change" listener="#{memberStatusBean.changingOfStatus}" render="reason disp disp1 data2 msg1"></f:ajax>
        		
    			</h:selectOneMenu></td></tr></table></td></tr>
    		<tr><td><h:panelGroup id="disp"><h:panelGroup id="disp1"><h:outputText value="Rejected Reason:" rendered="#{memberStatusBean.selectedStatus == 'Rejected'}"></h:outputText><h:outputText value="&nbsp;Notes:" rendered="#{memberStatusBean.selectedStatus != 'Rejected'}"></h:outputText></h:panelGroup></h:panelGroup></td></tr>	
    	<tr><td><h:inputTextarea style="width: 585px; margin-left: 5px;height: 150px;background:#fff;border:1px solid lightgray " id="reason" value="#{memberStatusBean.reasonText}"></h:inputTextarea></td>
    	
    	<td></td></tr>
    	<!-- <tr><td>&nbsp;<h:outputText value="Click "></h:outputText> <h:commandLink value="here" onclick="O$('HRYTree:ruleAttrValuepopup1').show();" style="font-size:15px;">
    	<a4j:ajax render="@this" execute="@this"></a4j:ajax>
    	</h:commandLink><h:outputText value=" to view attributes value"></h:outputText></td></tr> -->
    	
    	
    	
    	<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;
    	<h:outputText style="color:blue;margin-left:-15px;" value="#{memberStatusBean.messageSubStr}" title="#{memberStatusBean.message}" id="msg1"></h:outputText></td></tr></table>
	

	</o:popupLayer>
	
	
		
<o:popupLayer id="ruleAttrValuepopup1" draggable="true" modalLayerClass="modalLayer" style="width:420px;left: 1px; top: 0px; border: 2px solid #b67864;" left="100" top="200" >








    <div class="modal-dialog modal-md" >
      <div class="modal-content">
      <table style="width: 422px;">
<tr><td align="left"><h4 style="margin-bottom: 2px;margin-left: 10px;">Add Attributes</h4></td>  <td align="right">
<h:commandButton title="Close" onclick="O$('HRYTree:ruleAttrValuepopup1').hide();" image="/BootstrapResource/dist/hierarchy/wrkflw_close.png"  >
    	<a4j:ajax render="@this" execute="@this"></a4j:ajax>
    	</h:commandButton></td></tr>
   </table>
    
   <div class="modal-body">
   
    
   
   <div class="row">
   
    <div class="col-lg-12">
    

	   
										<div id="attrValuePANE" class="" style="margin-bottom:10px;margin-right:10px;margin-left:10px;width:400px;height: 200px;border: 1px solid lightgray;overflow-y:scroll;overflow-x:hidden;">
											<h:panelGroup id="attrValuePanelGroup"><table>
										<c:forEach items="#{workflowTabBean.rulesAttrDetailsAL}" var="item"  begin="0" end="#{workflowTabBean.rulesAttrDetailsAL.size()}" varStatus="status">
                          <tr style="line-height: 1.5;"><td style="padding-left: 40px;padding-top: 5px;">
        <h:outputText id="ruleAttrName_#{status.index}" value="#{item.attributeName}: "></h:outputText></td>
		<td style="padding-top: 5px;"><h:inputText id="ruleAttrVal_#{status.index}" value="#{item.attrValue}" placeholder=" Enter #{item.attributeName} value " class="textfiledcss" style="width: 226px !important;height: 25px;background: transparent;font-size: 12px;"></h:inputText>
		</td>
		</tr>
        </c:forEach>
        </table>
</h:panelGroup>
								     </div>
       </div>
								</div>
   </div>
 </div>
 </div>
 </o:popupLayer>
</h:body>
</html>
