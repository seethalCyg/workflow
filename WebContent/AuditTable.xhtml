<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:o="http://openfaces.org/">

<h:head>
	<h:outputStylesheet library="css" name="table-style.css" />
	<h:outputStylesheet library="css" name="style.css" />
	<h:outputStylesheet library="css" name="js_color_picker_v2.css" />
	<h:outputScript name="js_color_picker_v2.js" library="js" />
	<h:outputScript name="color_functions.js" library="js" />
	<h:outputScript name="jsf.js" library="javax.faces" />
	<h:outputScript name="format.js" library="js" />
	
	<!-- Start code change Jayaramu 14NOV13 -->


</h:head>



<h:body>
<h:inputHidden value="#{sessionExpireBean.checkSessionexpire}"/>

	<h:form id="audit">
		<fieldset style="width: 980px;">
		
		<table><tr><td><fieldset style="width: 947px;"><legend class="label2">Hierarchy Information</legend><table><tr><td>
		<h:outputText value="Hierarchy ID">
		</h:outputText></td><td>:</td><td><h:outputText value="#{hierarchyBean.hierarchy_ID}"></h:outputText></td>
		<td style="width: 51px; "></td><td><h:outputText value="Hierarchy Name"></h:outputText></td><td>:</td><td><h:outputText value="#{hierarchyBean.hierarchyName}"/></td>
		</tr></table></fieldset>
		<fieldset style="width: 947px;">
		<legend class="label2">Audit Record</legend> <table><tr><td><h:panelGroup id="resetData"> <table> <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <h:selectOneMenu id="login" title="#{hierarchyBean.loginOper}" value="#{hierarchyBean.loginOper}" style="width:93px">
       			 <f:selectItem itemValue="-- select Value --" itemLabel="-- select Value --"/>
        		<f:selectItems value="#{hierarchyBean.stringoperTM}"/>
        		<f:ajax execute="loginBet @this audit" render="loginBet @this audit"></f:ajax>
    			</h:selectOneMenu></td><td><h:selectOneMenu id="dateTimeOper" title="#{hierarchyBean.dateTimeOper}" value="#{hierarchyBean.dateTimeOper}" style="width:120px;">
       			 <f:selectItem itemValue="-- select Value --" itemLabel="-- select Value --"/>
        		<f:selectItems value="#{hierarchyBean.intoperTM}"/>
        		<f:ajax execute="dateTimeBet @this audit" render="dateTimeBet @this audit"></f:ajax>
    			</h:selectOneMenu></td><td>
		<h:selectOneMenu id="actionOper" title="#{hierarchyBean.actionOper}" value="#{hierarchyBean.actionOper}" style="width:75px">
       			 <f:selectItem itemValue="-- select Value --" itemLabel="-- select Value --"/>
        		<f:selectItems value="#{hierarchyBean.stringoperTM}"/>
        		<f:ajax execute="actionBet @this audit" render="actionBet @this audit"></f:ajax>
    			</h:selectOneMenu></td><td>
		<h:selectOneMenu id="parentOper" title="#{hierarchyBean.parentOper}" value="#{hierarchyBean.parentOper}" style="width:75px">
       			 <f:selectItem itemValue="-- select Value --" itemLabel="-- select Value --"/>
        		<f:selectItems value="#{hierarchyBean.intoperTM}"/>
        		<f:ajax execute="parentBet @this audit" render="parentBet @this audit"></f:ajax>
    			</h:selectOneMenu></td><td>
	<h:selectOneMenu id="beforeOper" title="#{hierarchyBean.beforeOper}" value="#{hierarchyBean.beforeOper}" style="width:95px">
       			
        		<f:selectItems value="#{hierarchyBean.tempStringTM}"/>
        		<f:ajax execute="beforeBet @this audit" render="beforeBet @this audit"></f:ajax>
    			</h:selectOneMenu></td><td>
		<h:selectOneMenu id="afterOper" title="#{hierarchyBean.afterOper}" value="#{hierarchyBean.afterOper}" style="width:95px">
       			
        		<f:selectItems value="#{hierarchyBean.tempStringTM}"/>
        		<f:ajax execute="afterBet @this audit" render="afterBet @this audit"></f:ajax>
    			</h:selectOneMenu></td><td>
		<h:selectOneMenu id="oldOper" title="#{hierarchyBean.oldOper}" value="#{hierarchyBean.oldOper}" style="width:55px">
       			 <f:selectItem itemValue="-- select Value --" itemLabel="-- select Value --"/>
        		<f:selectItems value="#{hierarchyBean.stringoperTM}"/>
        		<f:ajax execute="oldBet @this audit" render="oldBet @this audit"></f:ajax>
    			</h:selectOneMenu></td><td>
		<h:selectOneMenu id="oldPostionOper" title="#{hierarchyBean.oldPostionOper}" value="#{hierarchyBean.oldPostionOper}" style="width:53px">
       			 <f:selectItem itemValue="-- select Value --" itemLabel="-- select Value --"/>
        		<f:selectItems value="#{hierarchyBean.stringoperTM}"/>
        		<f:ajax execute="oldPositionBet @this audit" render="oldPositionBet @this audit"></f:ajax>
    			</h:selectOneMenu></td><td><h:selectOneMenu id="newOper" title="#{hierarchyBean.newOper}" value="#{hierarchyBean.newOper}" style="width:55px">
       			 <f:selectItem itemValue="-- select Value --" itemLabel="-- select Value --"/>
        		<f:selectItems value="#{hierarchyBean.stringoperTM}"/>
        		<f:ajax execute="newBet @this audit" render="newBet @this"></f:ajax>
    			</h:selectOneMenu></td><td>
		<h:selectOneMenu id="newPostionOper" title="#{hierarchyBean.newPostionOper}" value="#{hierarchyBean.newPostionOper}" style="width:55px">
       			 <f:selectItem itemValue="-- select Value --" itemLabel="-- select Value --"/>
        		<f:selectItems value="#{hierarchyBean.stringoperTM}"/>
        		<f:ajax execute="@this newPositionBet audit" render="newPositionBet @this audit"></f:ajax>
    			</h:selectOneMenu></td><td><h:commandButton id="filter1" title="Reset" action="#{hierarchyBean.resetFilter()}" image="/resources/images/reset.png" style="width:15px;" value="filter">
    			<a4j:ajax render="resetData" execute="@this"></a4j:ajax>
    			</h:commandButton> </td></tr>
    			<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<h:inputText style="width:88px" value="#{hierarchyBean.loginText}"></h:inputText></td><td>
    			<h:inputText style="width:114px" value="#{hierarchyBean.dateTimeText}"></h:inputText></td><td>
		<h:inputText style="width:70px" value="#{hierarchyBean.actionText}"></h:inputText></td><td>
		<h:inputText style="width:70px" value="#{hierarchyBean.parentText}"></h:inputText></td><td>
		<h:inputText style="width:90px" value="#{hierarchyBean.beforeText}"></h:inputText></td><td>
		<h:inputText style="width:90px" value="#{hierarchyBean.afterText}"></h:inputText></td><td>
		<h:inputText style="width:50px" value="#{hierarchyBean.oldText}"></h:inputText></td><td>
		<h:inputText style="width:48px" value="#{hierarchyBean.oldPostionText}"></h:inputText></td><td>
		<h:inputText style="width:50px" value="#{hierarchyBean.newText}"></h:inputText></td><td>
		<h:inputText style="width:50px" value="#{hierarchyBean.newPostionText}"></h:inputText></td><td>
		
		<h:selectBooleanCheckbox id="AuditamatchCase" value="#{hierarchyBean.matchCase4AuditTable}"></h:selectBooleanCheckbox><h:outputText style="font-size:11px" value="Match Case"></h:outputText>  <h:commandButton id="filter" title="Filter" action="#{hierarchyBean.filteringAuditTable(hierarchyBean.hierarchy_ID)}" image="/resources/images/filter.png" style="width:15px;" value="filter">
		<a4j:ajax render=":audit:auditRecord AuditamatchCase" execute="resetData"></a4j:ajax>
		</h:commandButton>
		</td></tr>
		<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		<h:inputText id="loginBet" style="width:88px" value="#{hierarchyBean.loginBetText}" rendered="#{hierarchyBean.loginOper == 'Between'}"></h:inputText></td><td>
    			<h:inputText id="dateTimeBet" style="width:114px; visibility:visible;" value="#{hierarchyBean.dateTimeBetText}" rendered="#{hierarchyBean.dateTimeOper == 'Between'}"></h:inputText></td><td>
		<h:inputText id="actionBet" style="width:70px" value="#{hierarchyBean.actionBetText}" rendered="#{hierarchyBean.actionOper == 'Between'}"></h:inputText></td><td>
		<h:inputText id="parentBet" style="width:70px" value="#{hierarchyBean.parentBetText}" rendered="#{hierarchyBean.parentOper == 'Between'}"></h:inputText></td><td>
		<h:inputText id="beforeBet" style="width:90px" value="#{hierarchyBean.beforeBetText}" rendered="#{hierarchyBean.beforeOper == 'Between'}"></h:inputText></td><td>
		<h:inputText id="afterBet" style="width:90px" value="#{hierarchyBean.afterBetText}" rendered="#{hierarchyBean.afterOper == 'Between'}"></h:inputText></td><td>
		<h:inputText id="oldBet" style="width:50px" value="#{hierarchyBean.oldBetText}" rendered="#{hierarchyBean.oldOper == 'Between'}"></h:inputText></td><td>
		<h:inputText id="oldPositionBet" style="width:48px" value="#{hierarchyBean.oldPostionBetText}" rendered="#{hierarchyBean.oldPostionOper == 'Between'}"></h:inputText></td><td>
		<h:inputText id="newBet" style="width:50px" value="#{hierarchyBean.newBetText}" rendered="#{hierarchyBean.newOper == 'Between'}"></h:inputText></td><td>
		<h:inputText id="newPositionBet" style="width:50px" value="#{hierarchyBean.newPostionBetText}" rendered="#{hierarchyBean.newPostionOper == 'Between'}"></h:inputText></td></tr></table></h:panelGroup></td></tr><tr><td colspan="2" >
		<o:dataTable id="auditRecord" value="#{hierarchyBean.auditRecordAL}"
						pageSize="10" var="objread" width="845px" commonHeaderRowClass="table-header"
						headerRowClass="table-header" bodyRowClass="table-even-row"
						bodyOddRowClass="table-odd-row" noDataMessageAllowed="false"
						bodyRowStyle="background-color:#FFFFF;"
						bodyOddRowStyle="background-color:#ADDDFF;"
						headerVertSeparator="1px solid #a0a0a0"
						sortedAscendingImageUrl="../images/treetable/sort_a.gif"
				sortedDescendingImageUrl="../images/treetable/sort_d.gif"
				sortedColumnHeaderStyle="background: url('../images/treetable/tableHeader_sorted.gif') repeat-x;"
				sortableHeaderRolloverStyle="background: url('../images/treetable/tableHeader_rollover.gif') repeat-x !important;"
				headerRowStyle="styleClass: tbl; style; table-header;"
						subHeaderRowStyle="background: url('../images/datatable/filter.gif') repeat-x #f7f7f7; border-top: 1px solid #f6f7f8;"
						preloadedNodes="all" expansionState="levelsExpanded:2">


						<o:multipleRowSelection
							rowDatas="#{hierarchyBean.hierarchyList}"
							style="background: #a4aec5; color: #7E0000;" >
							<o:ajax render="@this delete" execute="@this delete"></o:ajax>
							</o:multipleRowSelection>
						<o:columnReordering />
						<o:columnResizing />
						<f:facet name="columnMenu">
							<o:columnMenu />
						</f:facet>

						<o:selectionColumn style="width: 3%;" sortable="true" header="">

						</o:selectionColumn>

						<o:column style="width: 45px;">
							<f:facet name="header">Login ID</f:facet>
							<o:hintLabel value="#{objread.loginID}"></o:hintLabel>
							
						</o:column>
						<o:column style="width: 60px;">
							<f:facet name="header">Date and Time</f:facet>
							<o:hintLabel value="#{objread.dateTime}"></o:hintLabel>
							
						</o:column>
						<o:column style="width: 45px;">
							<f:facet name="header">Action</f:facet>
							<o:hintLabel value="#{objread.action}"></o:hintLabel>
							
						</o:column>
						<o:column style="width: 45px;">
							<f:facet name="header">Parent</f:facet>
							<o:hintLabel value="#{objread.parentID}"></o:hintLabel>
							
						</o:column>
						<o:column style="width: 55px;">
							<f:facet name="header">Value(Before)</f:facet>
							<o:hintLabel value="#{objread.beforeVal}"></o:hintLabel>
							
						</o:column>
						<o:column style="width: 55px;">
							<f:facet name="header">Value(After)</f:facet>
							<o:hintLabel value="#{objread.afterVal}"></o:hintLabel>
							
						</o:column>
						<o:columnGroup style="width: 45px;">
							<f:facet name="header">Move</f:facet>
							<o:column style="width: 36px;">
							<f:facet name="header">Old<br/> Parent</f:facet>
							<o:hintLabel value="#{objread.oldParentID}"></o:hintLabel>
							</o:column>
							<o:column style="width: 36px;">
							<f:facet name="header">Position</f:facet>
							<o:hintLabel value="#{objread.oldParentPosition}"></o:hintLabel>
							</o:column>
							<o:column style="width: 36px;">
							<f:facet name="header">New<br/> Parent</f:facet>
							<o:hintLabel value="#{objread.newParentID}"></o:hintLabel>
							</o:column>
							<o:column style="width: 46px;">
							<f:facet name="header">Position</f:facet>
							<o:hintLabel value="#{objread.newParentPosition}"></o:hintLabel>
							</o:column>
							
						</o:columnGroup>
						<f:facet name="below">
							<h:panelGroup id="panelGroup">
								<o:dataTablePaginator id="paginator" />
							</h:panelGroup>
						</f:facet>

					</o:dataTable></td></tr></table></fieldset></td></tr><tr><td>&nbsp;&nbsp;<h:commandButton title="Close" image="/resources/images/close.png" action="#{hierarchyBean.temdDirect('Hierarchytree.xhtml')}" value="Close"></h:commandButton></td></tr></table></fieldset>
	</h:form>
</h:body>
</html>
